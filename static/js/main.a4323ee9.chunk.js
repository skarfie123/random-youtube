(this["webpackJsonprandom-youtube"]=this["webpackJsonprandom-youtube"]||[]).push([[0],{25:function(t,e,n){},27:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n.n(a),i=n(14),l=n.n(i),c=(n(25),n(13)),r=n.n(c),o=n(15),h=n(16),u=n(17),d=n(7),b=n(20),p=n(18),m=(n(27),n(11)),j=n(9),g=n(19),x=n(8),f=n.p+"static/media/GitHub-Mark.bfdd4b5a.svg",y=n(2),v="AIzaSyBIdrDqHEmofVBwnGwkDkKO1NAshKWpGCs",O="https://www.youtube.com/channel/",k=O+"UCqFzWxSCi39LnW1JKFR3efg",w=function(t){Object(b.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).state={url:k,title:"Threw It On The Ground",channelTitle:"thelonelyisland",thumbnail:"https://i.ytimg.com/vi/gAYL5H46QnQ/maxresdefault.jpg",link:"https://www.youtube.com/watch?v=gAYL5H46QnQ",isLoading:!1},a.handleUrlChange=a.handleUrlChange.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.randomise=a.randomise.bind(Object(d.a)(a)),a.list=[],a}return Object(u.a)(n,[{key:"handleUrlChange",value:function(t){this.setState({url:t.target.value})}},{key:"handleSubmit",value:function(){var t=Object(o.a)(r.a.mark((function t(e){var n,a,s,i,l,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.setState({isLoading:!0}),this.list=[],e.preventDefault(),2===(n=this.state.url.split(O)).length){t.next=7;break}return alert("Please prove a channel url such as: "+k),t.abrupt("return");case 7:return a="https://youtube.googleapis.com/youtube/v3/channels?part=contentDetails&id=".concat(n[1],"&key=").concat(v),t.next=10,fetch(a).then((function(t){return t.json()}));case 10:return s=t.sent,i=s.items[0].contentDetails.relatedPlaylists.uploads,l="https://youtube.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=50&playlistId=".concat(i,"&key=").concat(v),t.next=15,fetch(l).then((function(t){return t.json()}));case 15:c=t.sent,this.list=this.list.concat(c.items);case 17:if(!c.nextPageToken){t.next=25;break}return l="https://youtube.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=50&playlistId=".concat(i,"&key=").concat(v,"&pageToken=").concat(c.nextPageToken),t.next=21,fetch(l).then((function(t){return t.json()}));case 21:c=t.sent,this.list=this.list.concat(c.items),t.next=17;break;case 25:this.setState({isLoading:!1}),console.log("Total Videos: ".concat(this.list.length)),this.randomise();case 28:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"randomise",value:function(){if(0!=this.list.length){var t=Math.floor(Math.random()*this.list.length);console.log("Random Video: ".concat(t));var e,n=this.list[t];e=n.snippet.thumbnails.maxres?n.snippet.thumbnails.maxres.url:n.snippet.thumbnails.high?n.snippet.thumbnails.high.url:n.snippet.thumbnails.default.url,this.setState({title:n.snippet.title,channelTitle:n.snippet.channelTitle,thumbnail:e,link:"https://www.youtube.com/watch?v=".concat(n.snippet.resourceId.videoId)})}else alert("No videos have been loaded")}},{key:"render",value:function(){return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsxs)("h2",{children:["Random YouTube \xa0",Object(y.jsx)("a",{href:"https://github.com/skarfie123/random-youtube",children:Object(y.jsx)("img",{class:"github",src:f,alt:"GitHub Logo"})})]}),Object(y.jsx)("p",{children:"Generate random selections from specified YouTube channels"}),Object(y.jsxs)(j.a,{className:"mb-3",children:[Object(y.jsx)(j.a.Prepend,{children:Object(y.jsx)(j.a.Text,{id:"url-label",children:"YouTube Channel URL"})}),Object(y.jsx)(g.a,{placeholder:k,defaultValue:k,"aria-label":"url","aria-describedby":"url-label",onChange:this.handleUrlChange}),Object(y.jsx)(j.a.Append,{children:Object(y.jsx)(m.a,{type:"submit",variant:"primary",disabled:this.state.isLoading,onClick:this.state.isLoading?null:this.handleSubmit,children:this.state.isLoading?"Loading\u2026":"Load"})})]}),Object(y.jsxs)("div",{className:"row",children:[Object(y.jsxs)(x.a,{className:"column video",children:[Object(y.jsx)(x.a.Img,{variant:"top",src:this.state.thumbnail}),Object(y.jsxs)(x.a.Body,{children:[Object(y.jsx)(x.a.Title,{children:this.state.title}),Object(y.jsx)(x.a.Text,{children:this.state.channelTitle}),Object(y.jsx)(m.a,{variant:"primary",target:"_blank",href:this.state.link,children:"Open"})]})]}),Object(y.jsx)("div",{className:"column",children:Object(y.jsx)(m.a,{variant:"primary",onClick:this.randomise,children:"Next"})})]})]})}}]),n}(s.a.Component),T=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,i=e.getLCP,l=e.getTTFB;n(t),a(t),s(t),i(t),l(t)}))};l.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(w,{})}),document.getElementById("root")),T()}},[[34,1,2]]]);
//# sourceMappingURL=main.a4323ee9.chunk.js.map